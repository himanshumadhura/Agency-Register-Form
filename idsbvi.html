<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insurance Agency Registration</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .btn-group {
            display: flex;
            justify-content: space-between;
        }
        .form-card {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            padding: 20px;
            background-color: #ffffff;
            margin-bottom: 20px;
        }
        .form-container {
            max-width: 600px;
            margin: 0 auto;
        }
        h4 {
            margin-top: 20px;
            margin-bottom: 20px;
            color: #007bff;
        }
        .is-invalid {
            border-color: #dc3545;
        }
        .is-invalid + .invalid-feedback {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center mb-4">Register Your Agency</h2>
        <div class="form-container">
            <form id="registrationForm">
                <div id="step1" class="step active form-card">
                    <h4>Agency Information</h4>
                    <div class="form-group">
                        <label for="agencyName">Agency Name</label>
                        <input type="text" class="form-control" id="agencyName" required>
                        <div class="invalid-feedback">Please enter your agency name.</div>
                    </div>
                    <div class="form-group">
                        <label for="licenseNumber">Agency License Number</label>
                        <input type="text" class="form-control" id="licenseNumber" required>
                        <div class="invalid-feedback">Please enter your agency license number.</div>
                    </div>
                    <h4>Address Information</h4>
                    <div class="form-group">
                        <label for="country">Country</label>
                        <select class="form-control" id="country" required>
                            <option value="" selected disabled>Select Country</option>
                            <option value="India">India</option>
                            <option value="USA">USA</option>
                            <option value="Canada">Canada</option>
                            <!-- Add other countries as needed -->
                        </select>
                        <div class="invalid-feedback">Please select your country.</div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="state">State</label>
                            <select class="form-control" id="state" required>
                                <option value="" selected disabled>Select State</option>
                                <!-- States will be populated based on selected country -->
                            </select>
                            <div class="invalid-feedback">Please select your state.</div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="locality">Locality</label>
                            <input type="text" class="form-control" id="locality" required>
                            <div class="invalid-feedback">Please enter your locality.</div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="pincode">Pincode</label>
                            <input type="text" class="form-control" id="pincode" required>
                            <div class="invalid-feedback">Please enter your pincode.</div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="society">Society</label>
                            <input type="text" class="form-control" id="society">
                        </div>
                    </div>
                    <h4>Contact Information</h4>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="phoneNumber">Phone Number</label>
                            <input type="text" class="form-control" id="phoneNumber" required pattern="\d{10}">
                            <div class="invalid-feedback">Please enter a valid 10-digit phone number.</div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="altNumber">Alternative Number</label>
                            <input type="text" class="form-control" id="altNumber" pattern="\d{10}">
                            <div class="invalid-feedback">Please enter a valid 10-digit alternate number.</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" class="form-control" id="email" required>
                        <div class="invalid-feedback">Please enter your email address.</div>
                    </div>
                    <div class="form-group">
                        <label for="website">Website</label>
                        <input type="text" class="form-control" id="website">
                    </div>
                    <div class="form-group">
                        <label for="yearsInBusiness">Years in Business</label>
                        <input type="text" class="form-control" id="yearsInBusiness" pattern="\d" required>
                        <div class="invalid-feedback">Please enter the number of years in business.</div>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary" onclick="nextStep(2)">Next</button>
                    </div>
                </div>

                <div id="step2" class="step form-card">
                    <h4>Services Offered</h4>
                    <div class="form-group">
                        <label for="Insurance">Insurance</label>
                        <div>
                            <label class="mr-2"><input type="checkbox" id="healthInsurance" name="Insurance" value="Health"> Health</label>
                            <label class="mr-2"><input type="checkbox" id="lifeInsurance" name="Insurance" value="Life"> Life</label>
                            <label class="mr-2"><input type="checkbox" id="autoInsurance" name="Insurance" value="Auto"> Auto</label>
                            <label class="mr-2"><input type="checkbox" id="homeInsurance" name="Insurance" value="Home"> Home</label>
                            <label class="mr-2"><input type="checkbox" id="businessInsurance" name="Insurance" value="Business"> Business</label>
                            <label class="mr-2"><input type="checkbox" id="investmentInsurance" name="Insurance" value="Investment"> Investment</label>
                        </div>
                        <label for="Investment">Investment</label>
                        <div>
                            <label class="mr-2"><input type="checkbox" id="npsInvestment" name="Investment" value="NPS"> NPS</label>
                            <label class="mr-2"><input type="checkbox" id="mutualFundsInvestment" name="Investment" value="MutualFunds"> Mutual Funds</label>
                            <label class="mr-2"><input type="checkbox" id="postOfficeInvestment" name="Investment" value="PostOffice"> Post Office</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="additionalService">Additional Service</label>
                        <textarea class="form-control" id="additionalService" rows="3"></textarea>
                    </div>
                    <div id="serviceValidationMessage" class="text-danger mb-3" style="display: none;">
                        Please select at least one service.
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-secondary" onclick="prevStep(1)">Back</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep(3)">Next</button>
                    </div>
                </div>

                <div id="step3" class="step form-card">
                    <h4>Company Description</h4>
                    <div class="form-group">
                        <label for="companyDescription">Description</label>
                        <textarea class="form-control" id="companyDescription" rows="3" required></textarea>
                        <div class="invalid-feedback">Please enter your company description.</div>
                    </div>
                    <h4>Upload Documents</h4>
                    <div class="form-group">
                        <label for="licenseDocument">License</label>
                        <input type="file" class="form-control-file" id="licenseDocument" required>
                        <div class="invalid-feedback">Please upload your license document.</div>
                    </div>
                    <div class="form-group">
                        <label for="signatureDocument">Signature</label>
                        <input type="file" class="form-control-file" id="signatureDocument" required>
                        <div class="invalid-feedback">Please upload your signature document.</div>
                    </div>
                    <div class="form-group">
                        <label for="profileImage">Profile Image</label>
                        <input type="file" class="form-control-file" id="profileImage" required>
                        <div class="invalid-feedback">Please upload your profile image.</div>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-secondary" onclick="prevStep(2)">Back</button>
                        <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners for real-time validation
            document.querySelectorAll('input, select, textarea').forEach(function(input) {
                input.addEventListener('input', function() {
                    if (input.checkValidity()) {
                        input.classList.remove('is-invalid');
                    }
                });
            });

            // Ensure phone numbers are 10 digits long
            document.getElementById('phoneNumber').addEventListener('input', function() {
                this.value = this.value.replace(/\D/g, '').substring(0, 10);
            });
            document.getElementById('altNumber').addEventListener('input', function() {
                this.value = this.value.replace(/\D/g, '').substring(0, 10);
            });
            document.getElementById('yearsInBusiness').addEventListener('input', function() {
                this.value = this.value.replace(/\D/g, '');
            });

            // Country and state dropdowns
            const countrySelect = document.getElementById('country');
            const stateSelect = document.getElementById('state');

            const statesByCountry = {
                'India': [
                    'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh', 'Goa',
                    'Gujarat', 'Haryana', 'Himachal Pradesh', 'Jharkhand', 'Karnataka', 'Kerala',
                    'Madhya Pradesh', 'Maharashtra', 'Manipur', 'Meghalaya', 'Mizoram', 'Nagaland',
                    'Odisha', 'Punjab', 'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Telangana', 'Tripura',
                    'Uttar Pradesh', 'Uttarakhand', 'West Bengal'
                ],
                'USA': [
                    'Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut',
                    'Delaware', 'Florida', 'Georgia', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa',
                    'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan',
                    'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire',
                    'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota', 'Ohio',
                    'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina', 'South Dakota',
                    'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia',
                    'Wisconsin', 'Wyoming'
                ],
                'Canada': [
                    'Alberta', 'British Columbia', 'Manitoba', 'New Brunswick', 'Newfoundland and Labrador',
                    'Nova Scotia', 'Ontario', 'Prince Edward Island', 'Quebec', 'Saskatchewan'
                ]
            };

            countrySelect.addEventListener('change', function() {
                const selectedCountry = countrySelect.value;
                stateSelect.innerHTML = '<option value="" selected disabled>Select State</option>';
                if (selectedCountry) {
                    const states = statesByCountry[selectedCountry];
                    states.forEach(function(state) {
                        const option = document.createElement('option');
                        option.value = state;
                        option.textContent = state;
                        stateSelect.appendChild(option);
                    });
                    stateSelect.style.display = 'block';
                } else {
                    stateSelect.style.display = 'none';
                }
            });
        });

        function nextStep(step) {
            // Validate the current step before proceeding to the next step
            var currentStep = document.querySelector('.step.active');
            var inputs = currentStep.querySelectorAll('input, select, textarea');
            var isValid = true;

            inputs.forEach(function(input) {
                if (!input.checkValidity()) {
                    input.classList.add('is-invalid');
                    isValid = false;
                } else {
                    input.classList.remove('is-invalid');
                }
            });

            // Additional validation for step 2: check if at least one service is selected
            if (step === 3) {
                var checkboxes = document.querySelectorAll('input[name="Insurance"]:checked, input[name="Investment"]:checked');
                if (checkboxes.length === 0) {
                    document.getElementById('serviceValidationMessage').style.display = 'block';
                    isValid = false;
                } else {
                    document.getElementById('serviceValidationMessage').style.display = 'none';
                }
            }

            if (isValid) {
                document.querySelectorAll('.step').forEach(function (stepElement) {
                    stepElement.classList.remove('active');
                });
                document.getElementById('step' + step).classList.add('active');
            }
        }

        function prevStep(step) {
            document.querySelectorAll('.step').forEach(function (stepElement) {
                stepElement.classList.remove('active');
            });
            document.getElementById('step' + step).classList.add('active');
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>